{
	"info": {
		"_postman_id": "318efddc-ea7c-49e7-82a5-6a2889353605",
		"name": "OHIP-Poly",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "123968",
		"_collection_link": "https://luisw19-team.postman.co/workspace/Poly~d4b55a94-6cf5-4435-aafc-284c4765b9a5/collection/123968-318efddc-ea7c-49e7-82a5-6a2889353605?action=share&source=collection_link&creator=123968"
	},
	"item": [
		{
			"name": "Poly Config",
			"item": [
				{
					"name": "Initial Config",
					"item": [
						{
							"name": "Create Poly Application",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey-Admin}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"My PolyApp for OHIP\",\n  \"description\": \"Poly application for OHIP integration\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/tenants/{{Poly-Tenant-Id}}/applications",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"tenants",
										"{{Poly-Tenant-Id}}",
										"applications"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create API Key",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey-Admin}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"My API Key\",\n    \"permissions\": {\n        \"use\": true,\n        \"teach\": true,\n        \"customDev\": true,\n        \"authConfig\": true,\n        \"manageVariables\": true,\n        \"manageSecretVariables\": true\n    },\n    \"applicationId\": \"{{Poly-App-Id}}\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/tenants/{{Poly-Tenant-Id}}/environments/{{Poly-Environment-Id}}/api-keys",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"tenants",
										"{{Poly-Tenant-Id}}",
										"environments",
										"{{Poly-Environment-Id}}",
										"api-keys"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Env Secrets",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip\",\n    \"name\": \"envSecrets\",\n    \"value\": {\n        \"ohip\": {\n            \"hostName\": \"{{HostName}}\",\n            \"hostNameDist\": \"{{HostNameDist}}\",\n            \"appKey\": \"{{AppKey}}\",\n            \"username\": \"{{Username}}\",\n            \"password\": \"{{Password}}\",\n            \"clientSecret\": \"{{CLIENT_SECRET}}\",\n            \"clientId\": \"{{CLIENT_ID}}\",\n            \"hotelId\": \"{{HotelId}}\"\n        },\n        \"google\": {\n            \"appKey\": \"{{GoogleMaps-AppKey}}\"\n        },\n        \"adyen\": {\n            \"hostName\": \"{{Adyen-HostName}}\",\n            \"appKey\": \"{{Adyen-AppKey}}\",\n            \"merchantAccount\": \"{{Adyen-MerchantAccount}}\"\n        }\n    },\n    \"description\": \"Environment variables for Oracle Hospitality custom server functions for OHIP\",\n    \"secret\": true,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables/3950d522-a01b-40a9-b99f-042d27376016",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables",
										"3950d522-a01b-40a9-b99f-042d27376016"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "AI Guest Journey",
					"item": [
						{
							"name": "Create Env Settings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip\",\n    \"name\": \"envSettings\",\n    \"value\": {\n        \"opi\": false\n    },\n    \"description\": \"Environment settings\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Env Descriptions For Model",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip\",\n    \"name\": \"descriptionsForModel\",\n    \"value\": {\n        \"searchHotelAvailability\": [\n            \"Do not display ratePlanCode and roomTypeCode to the user\",\n            \"Display currency amounts in local currency\",\n            \"browserCountryCode and browserLocale should be based on the browser settings\",\n            \"Currency code should be ISO and based on the currency for the user country\"\n        ]\n    },\n    \"description\": \"Description for models to be used on custom function responses\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Token Variable",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"context\": \"ohip\",\n  \"name\": \"token\",\n  \"value\": \"string\",\n  \"description\": \"Token cache\",\n  \"secret\": false,\n  \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Concierge LoV",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip\",\n    \"name\": \"conciergeLoV\",\n    \"value\": {\n        \"Breakfast\": {\n            \"description\": \"full breakfast for one\",\n            \"PackageAmount\": 15,\n            \"TransactionCode\": 2000\n        },\n        \"RentABike\": {\n            \"description\": \"rent a bike for a full day and enjoy the city surroundings\",\n            \"PackageAmount\": 20,\n            \"TransactionCode\": 5000\n        },\n        \"TaxiToAirport\": {\n            \"description\": \"taxi service to the airport for a max of 4 people\",\n            \"PackageAmount\": 30,\n            \"TransactionCode\": 2000\n        },\n        \"LondonEyeTicket\": {\n            \"description\": \"London eye ticket for one\",\n            \"PackageAmount\": 50,\n            \"TransactionCode\": 5016\n        }\n    },\n    \"description\": \"Concierge services list of values\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Payment Events Cache",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip\",\n    \"name\": \"paymentEventsCache\",\n    \"value\": {},\n    \"description\": \"Store payments events for processing reservations\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Custom Functions",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n        \"id\": \"abbe8975-9642-46fe-b9a6-9a4741d451f6\",\n        \"name\": \"getOhipToken\",\n        \"description\": \"Get an OHIP token and cache it. Renew it 5 minutes before it expires\",\n        \"context\": \"ohip.utilities\",\n        \"visibility\": \"ENVIRONMENT\",\n        \"logsEnabled\": false\n    }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/functions/server/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"functions",
										"server",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Webhooks",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/webhooks/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"webhooks",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Pay Hook Handler",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"source\": {\n    \"webhookHandleId\": \"936c5826-be24-4286-9048-44f602b3a605\" //paymentEventHook\n  },\n  \"destination\": {\n    \"serverFunctionId\": \"2a8bbcce-ce0d-47bd-b25c-2ea28b33a18b\" //paymentEventServerHandler\n  },\n  \"waitForResponse\": true\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/triggers/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"triggers",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create AI GX Plugin",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"slug\": \"OHIP\",\n  \"name\": \"AI Guest Experience for OHIP\",\n  \"iconUrl\": \"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh6Gm2PaeaHkMil4TQkivqf1Go91UEaAF_q-Io9MOM9XZGoMS3FDR7cG4pnypabqDXuh6xtNXjIdORW4J99JNKWFDZFo4sfBfR-Bk7-_UiDvRFx4rbYGFS4QwyynBZ--t_j2OaRQIsoN6-TDor_LxR2jIT5tP4uwtav0nYO0gMDsqQyljVcuS_bc-kn/s320/OHIP-Logo.png\",\n  \"descriptionForMarketplace\": \"Oracle Hospitality Integration Platform Plugin for AI. Enables shop, book, check in and check out AI experiences\",\n  \"descriptionForModel\": \"userProvidedEmailAddress anduserProvidedPhoneNumber are mandatory fields and MUST be provided by the user and NOT determined by ChatGPT. The following elements are INTERNAL ONLY and must NOT be shown to the user: hotelId, ratePlanCode, roomTypeCode, currencyCode, browserCountryCode, browserLocale, countryCurrencyCode. Results from other plugins cannot be used as input for operations in this plugin. This plugin allows to seacrh hotel availability, book reservation, check-In a guest into the hotel, add packages like breakfast and even check out.\",\n  \"functionIds\": [\n    \"a61279bf-2f91-433e-8696-7bc5277b4453\", // searchHotelsByLocation\n    \"4a787074-2016-475f-87e6-09f3cfaf326d\", // searchHotelAvailability\n    \"7a031456-19ed-4fbb-aa02-29c5a559b4b2\", // createResWithPayLink\n    \"8bc923ac-6474-4366-b44b-5f897ab5f138\", // checkInGuest\n    \"ba8f8f27-6265-4a96-b8af-042d7f6cea2f\", // getConciergeServices\n    \"973f60f3-4a2a-4c9e-89b1-b4c44bf02241\", // requestConciergeService\n    \"695f0e10-4968-454f-b5e0-f9a2a5f66e65\" // checkBillCharges\n  ]\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/plugins",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"plugins"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Streaming Client",
					"item": [
						{
							"name": "Create Env Settings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip.sclient\",\n    \"name\": \"envSettings\",\n    \"value\": {\n        \"wsUrl\": \"wss://{{HostName}}/subscriptions\",\n        \"appKey\": \"{{AppKey}}\",\n        \"tokenExpiry\": 3540000,\n        \"delayToConnect\": 10000,\n        \"ping\": 5000,\n        \"chainCode\": \"OHIPCN\",\n        \"hotelId\": null,\n        \"delta\": false,\n        \"stats\": true,\n        \"timeBucket\": \"SECOND\",\n        \"clientId\": null\n    },\n    \"description\": \"Environment settings\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Offset",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip.sclient\",\n    \"name\": \"offset\",\n    \"value\": 0,\n    \"description\": \"Environment settings\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Client Status",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"context\": \"ohip.sclient\",\n    \"name\": \"clientStatus\",\n    \"value\": {\n        \"clientId\": null,\n        \"connected\": false\n    },\n    \"description\": \"Environment settings\",\n    \"secret\": false,\n    \"visibility\": \"ENVIRONMENT\"\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/variables/{{UPDATE ME}}",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"variables",
										"{{UPDATE ME}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Custom Functions",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{Poly-Host}}/functions/server/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"functions",
										"server",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Custom Functions",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"sclient\",\n    \"description\": \"OHIP Streaming API client for PolyAPI\",\n    \"context\": \"ohip.streaming\",\n    \"visibility\": \"ENVIRONMENT\",\n    \"language\": \"javascript\",\n    \"logsEnabled\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/functions/server/{{UPDATE ME}}",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"functions",
										"server",
										"{{UPDATE ME}}"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create Scheduler (experimental)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{polyApiKey}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"executionType\": \"sequential\",\n    \"functions\": [\n        {\n            \"id\": \"a492faea-ad8f-466c-83fb-a9d5ec2faca5\",\n            \"eventPayload\": {},\n            \"headersPayload\": {},\n            \"paramsPayload\": {}\n        }\n    ],\n    \"name\": \"Keep Streaming Client Alive\",\n    \"schedule\": {\n        \"type\": \"periodical\",\n        \"value\": \"*/5 * * * *\"\n    },\n    \"enabled\": true\n}",
									"options": {
										"raw": {
											"headerFamily": "json",
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{Poly-Host}}/jobs/",
									"host": [
										"{{Poly-Host}}"
									],
									"path": [
										"jobs",
										""
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Collections For Training",
			"item": [
				{
					"name": "Authentication",
					"item": [
						{
							"name": "Get Property Token (With SSD)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = JSON.parse(responseBody);\r",
											"postman.setEnvironmentVariable(\"Token\", jsonData.access_token);\r",
											"//Set other variables\r",
											"var moment = require('moment');\r",
											"pm.environment.set('DateFrom', moment().add(0, 'days').format((\"YYYY-MM-DD\")))\r",
											"pm.environment.set('DateTo', moment().add(1, 'days').format((\"YYYY-MM-DD\")))\r",
											"pm.environment.set('ArrivalTime', moment().add(0, 'days').format((\"YYYY-MM-DD HH:MM:SS\")))\r",
											"\r",
											"var uuid = require('uuid')\r",
											"randomId = uuid.v4()\r",
											"pm.environment.set('uuid',randomId)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "{{CLIENT_SECRET}}",
											"type": "string"
										},
										{
											"key": "username",
											"value": "{{CLIENT_ID}}",
											"type": "string"
										},
										{
											"key": "saveHelperData",
											"value": true,
											"type": "boolean"
										},
										{
											"key": "showPassword",
											"value": false,
											"type": "boolean"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"name": "Content-Type",
										"type": "text"
									},
									{
										"key": "x-app-key",
										"value": "{{AppKey}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "username",
											"value": "{{Username}}",
											"type": "text"
										},
										{
											"key": "password",
											"value": "{{Password}}",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "password",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://{{HostName}}/oauth/v1/tokens",
									"protocol": "https",
									"host": [
										"{{HostName}}"
									],
									"path": [
										"oauth",
										"v1",
										"tokens"
									]
								},
								"description": "Fetch an OPERA Cloud json web tokent (JWT) for a given chain"
							},
							"response": []
						}
					]
				},
				{
					"name": "AI Guest Journey",
					"item": [
						{
							"name": "Shop & Book",
							"item": [
								{
									"name": "Central",
									"item": [
										{
											"name": "Shop Central Offers",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{Token}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "Accept",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													},
													{
														"key": "x-channelCode",
														"value": "{{ChannelCode}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "https://{{HostNameDist}}/shop/v1/hotels/{{HotelId}}/offers?adults={{Adults}}&numberOfUnits={{NumberOfUnits}}&arrivalDate={{DateFrom}}&departureDate={{DateTo}}&children={{Children}}&childrenAges={{ChildrenAges}}",
													"protocol": "https",
													"host": [
														"{{HostNameDist}}"
													],
													"path": [
														"shop",
														"v1",
														"hotels",
														"{{HotelId}}",
														"offers"
													],
													"query": [
														{
															"key": "adults",
															"value": "{{Adults}}"
														},
														{
															"key": "numberOfUnits",
															"value": "{{NumberOfUnits}}"
														},
														{
															"key": "arrivalDate",
															"value": "{{DateFrom}}"
														},
														{
															"key": "departureDate",
															"value": "{{DateTo}}"
														},
														{
															"key": "children",
															"value": "{{Children}}"
														},
														{
															"key": "childrenAges",
															"value": "{{ChildrenAges}}"
														}
													]
												},
												"description": "Get property offers for Public rates"
											},
											"response": []
										},
										{
											"name": "Get Central Shop Calendar",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{Token}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "Accept",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													},
													{
														"key": "x-channelCode",
														"value": "{{channelCode}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "https://{{HostNameDist}}/shop/v1/hotels/{{HotelId}}/calendar?arrivalDateFrom={{DateFrom}}&arrivalDateTo={{DateTo}}&adults={{Adults}}&children={{Children}}&childrenAges={{ChildrenAges}}&rateMode=Average&lengthOfStay=1",
													"protocol": "https",
													"host": [
														"{{HostNameDist}}"
													],
													"path": [
														"shop",
														"v1",
														"hotels",
														"{{HotelId}}",
														"calendar"
													],
													"query": [
														{
															"key": "arrivalDateFrom",
															"value": "{{DateFrom}}"
														},
														{
															"key": "arrivalDateTo",
															"value": "{{DateTo}}"
														},
														{
															"key": "adults",
															"value": "{{Adults}}"
														},
														{
															"key": "children",
															"value": "{{Children}}"
														},
														{
															"key": "childrenAges",
															"value": "{{ChildrenAges}}"
														},
														{
															"key": "rateMode",
															"value": "Average"
														},
														{
															"key": "lengthOfStay",
															"value": "1"
														}
													]
												},
												"description": "Get property offers for Public rates"
											},
											"response": []
										},
										{
											"name": "Create Central Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer  {{Token}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json; charset=utf-8",
														"type": "text"
													},
													{
														"key": "x-channelCode",
														"value": "{{channelCode}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													},
													{
														"key": "x-hdp-tracing-key",
														"value": "{{$guid}}",
														"type": "text",
														"disabled": true
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"reservations\": [\n        {\n            \"roomStay\": {\n                \"arrivalDate\": \"{{DateFrom}}\",\n                \"departureDate\": \"{{DateTo}}\",\n                \"roomRates\": [\n                    {\n                        \"guestCounts\": {\n                            \"adults\": {{Adults}},\n                            \"children\": {{Children}},\n                            \"childAges\": [{{ChildrenAges}}]\n                        },\n                        \"roomType\": \"{{RoomTypeCode}}\",\n                        \"ratePlanCode\": \"{{RatePlanCode}}\",\n                        \"numberOfUnits\": {{Units}},\n                        \"start\": \"{{DateFrom}}\",\n                        \"end\": \"{{DateTo}}\"\n                    }\n                ],\n                \"guarantee\": {\n                    \"guaranteeCode\": \"CC\"\n                },\n                \"printRate\": true\n            },\n            \"reservationPaymentMethods\": [\n                {\n                    \"paymentMethod\": \"5\",\n                    \"folioView\": \"1\",\n                    \"paymentCard\": {\n                        \"cardType\": \"AX\",\n                        \"cardNumber\": \"371449635398431\",\n                        \"expirationDate\": \"06/25\",\n                        \"cardHolderName\": \"SomeChannel VirtualCard\"\n                    }\n                }\n            ],\n            \"reservationGuests\": [\n                {\n                    \"profileInfo\": {\n                        \"profile\": {\n                            \"customer\": {\n                                \"personName\": [\n                                    {\n                                        \"surname\": \"{{GuestFirstName}}\",\n                                        \"givenName\": \"{{GuestLastName}}\",\n                                        \"nameTitle\": \"{{GuestTitle}}\",\n                                        \"nameType\": \"Primary\",\n                                        \"email\": \"{{GuestEmail}}\",\n                                        \"phoneNumber\": \"{{GuestPhoneNumber}}\",\n                                        \"address\": {\n                                            \"addressLine\": [\n                                                \"{{GuestAddressStreet}}\"\n                                            ],\n                                            \"cityName\": \"{{GuestAddressCity}}\",\n                                            \"postalCode\": \"{{GuestAddressPostalCode}}\",\n                                            \"country\": {\n                                                \"code\": \"{{GuestAddressCountry}}\"\n                                            },\n                                            \"state\": \"{{GuestAddressState}}\"\n                                        }\n                                    }\n                                ],\n                                \"language\": \"en-us\"\n                            },\n                            \"profileType\": \"Guest\"\n                        }\n                    },\n                    \"primary\": true\n                }\n            ],\n            \"hotelCode\": \"{{HotelId}}\",\n            \"messageId\": \"{{RandomUUID}}\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://{{HostNameDist}}/book/v1/hotels/{{HotelId}}/reservations",
													"protocol": "https",
													"host": [
														"{{HostNameDist}}"
													],
													"path": [
														"book",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations"
													]
												},
												"description": "Sample wiht a single night with guest CC on folio 1"
											},
											"response": []
										},
										{
											"name": "Get Central Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer  {{Token}}",
														"type": "text"
													},
													{
														"key": "Content-Type",
														"value": "application/json; charset=utf-8",
														"type": "text"
													},
													{
														"key": "x-channelCode",
														"value": "{{channelCode}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "https://{{HostNameDist}}/book/v1/hotels/{{HotelId}}/reservations/{{CentralReservationId}}",
													"protocol": "https",
													"host": [
														"{{HostNameDist}}"
													],
													"path": [
														"book",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations",
														"{{CentralReservationId}}"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Property Reservation with Central Id",
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelId",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations?externalReferenceIds={{CentralReservationId}}",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"rsv",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations"
													],
													"query": [
														{
															"key": "externalReferenceIds",
															"value": "{{CentralReservationId}}"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "Property",
									"item": [
										{
											"name": "List All Properties",
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/lov/v1/listOfValues/ResortChains",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"lov",
														"v1",
														"listOfValues",
														"ResortChains"
													]
												},
												"description": "List the hotels in the chain being accessed."
											},
											"response": []
										},
										{
											"name": "Get Property Details",
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													}
												],
												"url": {
													"raw": "https://{{HostName}}/ent/config/v1/hotels/{{HotelId}}?fetchInstructions=General&fetchInstructions=GeneralNotes",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"ent",
														"config",
														"v1",
														"hotels",
														"{{HotelId}}"
													],
													"query": [
														{
															"key": "fetchInstructions",
															"value": "General"
														},
														{
															"key": "fetchInstructions",
															"value": "GeneralNotes"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Distance To Hotels",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var jsonData = null;",
															"",
															"try {",
															"    jsonData = pm.response.json();",
															"    pm.test(\"Check if response is valid JSON\", function() {    ",
															"    pm.expect(jsonData).to.be.an('object');",
															"    pm.visualizer.set(`<textarea style=\"width: 100vw; height: 100vh; font-family: monospace;\">${pm.response.json().choices[0].message.content}</textarea>`);",
															"});",
															"} catch (a) {",
															"    console.log(\"Dealing with an SSE stream ... \")",
															"}"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "https://maps.googleapis.com/maps/api/distancematrix/json?key={{GoogleMaps-AppKey}}&units={{DistanceMetric}}&origins={{HotelAddresses}}&destinations={{HotelDestination}}&language={{DistanceLang}}&mode={{DistanceMode}}",
													"protocol": "https",
													"host": [
														"maps",
														"googleapis",
														"com"
													],
													"path": [
														"maps",
														"api",
														"distancematrix",
														"json"
													],
													"query": [
														{
															"key": "key",
															"value": "{{GoogleMaps-AppKey}}"
														},
														{
															"key": "units",
															"value": "{{DistanceMetric}}"
														},
														{
															"key": "origins",
															"value": "{{HotelAddresses}}"
														},
														{
															"key": "destinations",
															"value": "{{HotelDestination}}"
														},
														{
															"key": "language",
															"value": "{{DistanceLang}}"
														},
														{
															"key": "mode",
															"value": "{{DistanceMode}}"
														}
													]
												}
											},
											"response": [
												{
													"name": "Create chat message completion",
													"originalRequest": {
														"method": "POST",
														"header": [
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "Accept",
																"value": "application/json"
															}
														],
														"body": {
															"mode": "raw",
															"raw": "{\n    \"model\": \"gpt-3.5-turbo\",\n    \"messages\": [\n        {\n            \"role\": \"user\",\n            \"content\": \"Who won the world series in 2020?\"\n        },\n        {\n            \"role\": \"assistant\",\n            \"content\": \"The Los Angeles Dodgers won the World Series in 2020.\"\n        },\n        {\n            \"role\": \"user\",\n            \"content\": \"Where was it played?\"\n        }\n    ],\n    \"temperature\": 1,\n    \"top_p\": 1,\n    \"n\": 1,\n    \"stream\": false,\n    \"max_tokens\": 250,\n    \"presence_penalty\": 0,\n    \"frequency_penalty\": 0\n}",
															"options": {
																"raw": {
																	"language": "json"
																}
															}
														},
														"url": {
															"raw": "{{baseUrl}}/chat/completions",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"chat",
																"completions"
															]
														}
													},
													"status": "OK",
													"code": 200,
													"_postman_previewlanguage": "json",
													"header": [
														{
															"key": "Date",
															"value": "Mon, 20 Mar 2023 23:50:57 GMT"
														},
														{
															"key": "Content-Type",
															"value": "application/json"
														},
														{
															"key": "Content-Length",
															"value": "360"
														},
														{
															"key": "Connection",
															"value": "keep-alive"
														},
														{
															"key": "Access-Control-Allow-Origin",
															"value": "*"
														},
														{
															"key": "Cache-Control",
															"value": "no-cache, must-revalidate"
														},
														{
															"key": "Openai-Model",
															"value": "gpt-3.5-turbo-0301"
														},
														{
															"key": "Openai-Organization",
															"value": "user-ydfxhof885ycvb52zjw5ly51"
														},
														{
															"key": "Openai-Processing-Ms",
															"value": "1800"
														},
														{
															"key": "Openai-Version",
															"value": "2020-10-01"
														},
														{
															"key": "Strict-Transport-Security",
															"value": "max-age=15724800; includeSubDomains"
														},
														{
															"key": "X-Ratelimit-Limit-Requests",
															"value": "3500"
														},
														{
															"key": "X-Ratelimit-Remaining-Requests",
															"value": "3499"
														},
														{
															"key": "X-Ratelimit-Reset-Requests",
															"value": "17ms"
														},
														{
															"key": "X-Request-Id",
															"value": "8506a913c39e706fede784458b254ca7"
														}
													],
													"cookie": [],
													"body": "{\n    \"id\": \"chatcmpl-6wJZ9Ebt8puAO4zW3zUpgFwS8BfJB\",\n    \"object\": \"chat.completion\",\n    \"created\": 1679356255,\n    \"model\": \"gpt-3.5-turbo-0301\",\n    \"usage\": {\n        \"prompt_tokens\": 45,\n        \"completion_tokens\": 19,\n        \"total_tokens\": 64\n    },\n    \"choices\": [\n        {\n            \"message\": {\n                \"role\": \"assistant\",\n                \"content\": \"The 2020 World Series was played in Arlington, Texas, at Globe Life Field.\"\n            },\n            \"finish_reason\": \"stop\",\n            \"index\": 0\n        }\n    ]\n}"
												}
											]
										},
										{
											"name": "Get Property Room Types",
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/lov/v1/listOfValues/hotels/{{HotelId}}/resortRoomTypes",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"lov",
														"v1",
														"listOfValues",
														"hotels",
														"{{HotelId}}",
														"resortRoomTypes"
													]
												}
											},
											"response": []
										},
										{
											"name": "Search Property Availability",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/par/v0/hotels/{{HotelId}}/availability?roomStayStartDate={{DateFrom}}&roomStayEndDate={{DateTo}}&children={{Children}}&adults={{Adults}}&roomStayQuantity={{NumberOfUnits}}&roomType={{RoomTypeCode}}",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"par",
														"v0",
														"hotels",
														"{{HotelId}}",
														"availability"
													],
													"query": [
														{
															"key": "childAge",
															"value": "{{ChildrenAges}}",
															"disabled": true
														},
														{
															"key": "ratePlanCode",
															"value": "{{RatePlanCode}}",
															"description": "optional",
															"disabled": true
														},
														{
															"key": "includeClosedRates",
															"value": "",
															"disabled": true
														},
														{
															"key": "includeDefaultRatePlanSet",
															"value": "",
															"disabled": true
														},
														{
															"key": "initialRatePlanSet",
															"value": "",
															"disabled": true
														},
														{
															"key": "ratePlanSet",
															"value": "",
															"disabled": true
														},
														{
															"key": "pagePointerKey",
															"value": "",
															"disabled": true
														},
														{
															"key": "bucket1Count",
															"value": "",
															"disabled": true
														},
														{
															"key": "bucket2Count",
															"value": "",
															"disabled": true
														},
														{
															"key": "bucket3Count",
															"value": "",
															"disabled": true
														},
														{
															"key": "bucket4Count",
															"value": "",
															"disabled": true
														},
														{
															"key": "bucket5Count",
															"value": "",
															"disabled": true
														},
														{
															"key": "fullStayTimeSpanStartDate",
															"value": "",
															"disabled": true
														},
														{
															"key": "fullStayTimeSpanEndDate",
															"value": "",
															"disabled": true
														},
														{
															"key": "prevailingRate",
															"value": "",
															"disabled": true
														},
														{
															"key": "rateCategory",
															"value": "",
															"disabled": true
														},
														{
															"key": "rateClass",
															"value": "",
															"disabled": true
														},
														{
															"key": "rateGroup",
															"value": "",
															"disabled": true
														},
														{
															"key": "feature",
															"value": "",
															"disabled": true
														},
														{
															"key": "reservationGuestId",
															"value": "",
															"disabled": true
														},
														{
															"key": "reservationGuestIdType",
															"value": "",
															"disabled": true
														},
														{
															"key": "hotelReservationId",
															"value": "",
															"disabled": true
														},
														{
															"key": "hotelReservationIdType",
															"value": "",
															"disabled": true
														},
														{
															"key": "ratePlanInfo",
															"value": "",
															"disabled": true
														},
														{
															"key": "returnOnlyAvailableRateCodes",
															"value": "",
															"disabled": true
														},
														{
															"key": "resGuaranteeInfo",
															"value": "",
															"disabled": true
														},
														{
															"key": "roomTypeInfo",
															"value": "",
															"disabled": true
														},
														{
															"key": "membershipIdNumber",
															"value": "",
															"disabled": true
														},
														{
															"key": "smokingPreference",
															"value": "",
															"disabled": true
														},
														{
															"key": "roomStayStartDate",
															"value": "{{DateFrom}}"
														},
														{
															"key": "roomStayEndDate",
															"value": "{{DateTo}}"
														},
														{
															"key": "children",
															"value": "{{Children}}"
														},
														{
															"key": "adults",
															"value": "{{Adults}}"
														},
														{
															"key": "roomStayQuantity",
															"value": "{{NumberOfUnits}}"
														},
														{
															"key": "roomType",
															"value": "{{RoomTypeCode}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Property Reservation",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var data = pm.response.headers.get(\"Location\").split(\"/\").pop();\r",
															"postman.setEnvironmentVariable(\"ReservationId\", data);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"reservations\": {\r\n        \"reservation\": [\r\n            {\r\n                \"sourceOfSale\": {\r\n                    \"sourceType\": \"PMS\",\r\n                    \"sourceCode\": \"{{HotelId}}\"\r\n                },\r\n                \"roomStay\": {\r\n                    \"roomRates\": [\r\n                        {\r\n                            \"total\": {\r\n                                \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                            },\r\n                            \"rates\": {\r\n                                \"rate\": [\r\n                                    {\r\n                                        \"base\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\",\r\n                                            \"currencyCode\": \"{{CurrencyCode}}\"\r\n                                        },\r\n                                        \"shareDistributionInstruction\": \"Full\",\r\n                                        \"total\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                                        },\r\n                                        \"start\": \"{{DateFrom}}\",\r\n                                        \"end\": \"{{DateTo}}\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            \"guestCounts\": {\r\n                                \"adults\": \"{{Adults}}\"\r\n                                ,\"children\": \"{{Children}}\"\r\n                                ,\"childAges\": {{ChildrenAges}}\r\n                            },\r\n                            \"roomType\": \"{{RoomTypeCode}}\",\r\n                            \"ratePlanCode\": \"{{RatePlanCode}}\",\r\n                            \"start\": \"{{DateFrom}}\",\r\n                            \"end\": \"{{DateTo}}\",\r\n                            \"suppressRate\": true,\r\n                            \"marketCode\": \"LEISURE\",\r\n                            \"marketCodeDescription\": \"Leisure\",\r\n                            \"sourceCode\": \"WEB\",\r\n                            \"sourceCodeDescription\": \"Website\",\r\n                            \"numberOfUnits\": \"{{NumberOfUnits}}\",\r\n                            \"pseudoRoom\": false,\r\n                            \"roomTypeCharged\": \"{{RoomTypeCode}}\",\r\n                            \"houseUseOnly\": false,\r\n                            \"complimentary\": false,\r\n                            \"fixedRate\": true,\r\n                            \"discountAllowed\": false,\r\n                            \"bogoDiscount\": false\r\n                        }\r\n                    ],\r\n                    \"arrivalDate\": \"{{DateFrom}}\",\r\n                    \"departureDate\": \"{{DateTo}}\",\r\n                    \"guarantee\": {\r\n                        \"guaranteeCode\": \"6PM\",\r\n                        \"shortDescription\": \"6PM Hold\"\r\n                    },\r\n                    \"roomNumberLocked\": false,\r\n                    \"printRate\": false\r\n                },\r\n                \"reservationGuests\": [\r\n                    {\r\n                        \"profileInfo\": {\r\n                            \"profile\": {\r\n                                \"customer\": {\r\n                                    \"personName\": [\r\n                                        {\r\n                                            \"givenName\": \"{{GuestFirstName}}\",\r\n                                            \"middleName\": \"\",\r\n                                            \"surname\": \"{{GuestLastName}}\",\r\n                                            \"nameType\": \"Primary\"\r\n                                        }\r\n                                    ],\r\n                                    \"language\": \"E\"\r\n                                },\r\n                                \"addresses\": {\r\n                                    \"addressInfo\": [\r\n                                        {\r\n                                            \"address\": {\r\n                                                \"addressLine\": [\r\n                                                    \"{{GuestAddressStreet}}\"\r\n                                                ],\r\n                                                \"cityName\": \"{{GuestAddressCity}}\",\r\n                                                \"postalCode\": \"{{GuestAddressPostalCode}}\",\r\n                                                \"state\": \"{{GuestAddressState}}\",\r\n                                                \"country\": {\r\n                                                    \"value\": \"{{GuestAddressCountry}}\",\r\n                                                    \"code\": \"{{GuestAddressCountry}}\"\r\n                                                },\r\n                                                \"language\": \"EN\",\r\n                                                \"type\": \"HOME\",\r\n                                                \"primaryInd\": true\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"emails\": {\r\n                                    \"emailInfo\": [\r\n                                        {\r\n                                            \"email\": {\r\n                                                \"emailAddress\": \"{{GuestEmail}}\",\r\n                                                \"type\": \"EMAIL\",\r\n                                                \"typeDescription\": \"Email Address\",\r\n                                                \"primaryInd\": true\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"profileType\": \"Guest\"\r\n                            }\r\n                        },\r\n                        \"primary\": true\r\n                    }\r\n                ],\r\n                \"reservationPaymentMethods\": [\r\n                    {\r\n                        \"paymentMethod\": \"CA\",\r\n                        \"folioView\": \"1\"\r\n                    }\r\n                ],\r\n                \"hotelId\": \"{{HotelId}}\",\r\n                \"roomStayReservation\": true,\r\n                \"reservationStatus\": \"Reserved\",\r\n                \"computedReservationStatus\": \"DueIn\",\r\n                \"walkIn\": false,\r\n                \"printRate\": false,\r\n                \"preRegistered\": false,\r\n                \"upgradeEligible\": false,\r\n                \"allowAutoCheckin\": false,\r\n                \"hasOpenFolio\": false,\r\n                \"allowMobileCheckout\": false,\r\n                \"allowMobileViewFolio\": false,\r\n                \"allowPreRegistration\": false,\r\n                \"optedForCommunication\": false\r\n            }\r\n        ]\r\n    }\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"rsv",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Property Reservation With Token",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var data = pm.response.headers.get(\"Location\").split(\"/\").pop();\r",
															"postman.setEnvironmentVariable(\"ReservationId\", data);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"reservations\": {\r\n        \"reservation\": [\r\n            {\r\n                \"sourceOfSale\": {\r\n                    \"sourceType\": \"PMS\",\r\n                    \"sourceCode\": \"{{HotelId}}\"\r\n                },\r\n                \"roomStay\": {\r\n                    \"roomRates\": [\r\n                        {\r\n                            \"total\": {\r\n                                \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                            },\r\n                            \"rates\": {\r\n                                \"rate\": [\r\n                                    {\r\n                                        \"base\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\",\r\n                                            \"currencyCode\": \"{{CurrencyCode}}\"\r\n                                        },\r\n                                        \"shareDistributionInstruction\": \"Full\",\r\n                                        \"total\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                                        },\r\n                                        \"start\": \"{{DateFrom}}\",\r\n                                        \"end\": \"{{DateTo}}\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            \"guestCounts\": {\r\n                                \"adults\": \"{{Adults}}\",\r\n                                \"children\": \"{{Children}}\",\r\n                                \"childAges\": {{ChildrenAges}}\r\n                            },\r\n                            \"roomType\": \"{{RoomTypeCode}}\",\r\n                            \"ratePlanCode\": \"{{RatePlanCode}}\",\r\n                            \"start\": \"{{DateFrom}}\",\r\n                            \"end\": \"{{DateTo}}\",\r\n                            \"suppressRate\": true,\r\n                            \"marketCode\": \"LEISURE\",\r\n                            \"marketCodeDescription\": \"Leisure\",\r\n                            \"sourceCode\": \"WEB\",\r\n                            \"sourceCodeDescription\": \"Website\",\r\n                            \"numberOfUnits\": \"{{NumberOfUnits}}\",\r\n                            \"pseudoRoom\": false,\r\n                            \"roomTypeCharged\": \"{{RoomTypeCode}}\",\r\n                            \"houseUseOnly\": false,\r\n                            \"complimentary\": false,\r\n                            \"fixedRate\": true,\r\n                            \"discountAllowed\": false,\r\n                            \"bogoDiscount\": false\r\n                        }\r\n                    ],\r\n                    \"arrivalDate\": \"{{DateFrom}}\",\r\n                    \"departureDate\": \"{{DateTo}}\",\r\n                    \"guarantee\": {\r\n                        \"guaranteeCode\": \"6PM\",\r\n                        \"shortDescription\": \"6PM Hold\"\r\n                    },\r\n                    \"roomNumberLocked\": false,\r\n                    \"printRate\": false\r\n                },\r\n                \"reservationGuests\": [\r\n                    {\r\n                        \"profileInfo\": {\r\n                            \"profile\": {\r\n                                \"customer\": {\r\n                                    \"personName\": [\r\n                                        {\r\n                                            \"givenName\": \"{{GuestFirstName}}\",\r\n                                            \"middleName\": \"\",\r\n                                            \"surname\": \"{{GuestLastName}}\",\r\n                                            \"nameType\": \"Primary\"\r\n                                        }\r\n                                    ],\r\n                                    \"language\": \"E\"\r\n                                },\r\n                                \"addresses\": {\r\n                                    \"addressInfo\": [\r\n                                        {\r\n                                            \"address\": {\r\n                                                \"addressLine\": [\r\n                                                    \"{{GuestHouseNameOrNumber}}\",\r\n                                                    \"{{GuestAddressStreet}}\"\r\n                                                ],\r\n                                                \"cityName\": \"{{GuestAddressCity}}\",\r\n                                                \"postalCode\": \"{{GuestAddressPostalCode}}\",\r\n                                                \"state\": \"{{GuestAddressState}}\",\r\n                                                \"country\": {\r\n                                                    \"value\": \"{{GuestAddressCountry}}\",\r\n                                                    \"code\": \"{{GuestAddressCountry}}\"\r\n                                                },\r\n                                                \"language\": \"EN\",\r\n                                                \"type\": \"HOME\",\r\n                                                \"primaryInd\": true\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"emails\": {\r\n                                    \"emailInfo\": [\r\n                                        {\r\n                                            \"email\": {\r\n                                                \"emailAddress\": \"{{GuestEmail}}\",\r\n                                                \"type\": \"EMAIL\",\r\n                                                \"typeDescription\": \"Email Address\",\r\n                                                \"primaryInd\": true\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"telephones\": {\r\n                                    \"telephoneInfo\": [\r\n                                        {\r\n                                            \"telephone\": {\r\n                                                \"phoneTechType\": \"PHONE\",\r\n                                                \"phoneUseType\": \"MOBILE\",\r\n                                                \"phoneUseTypeDescription\": \"Mobile Phone Number\",\r\n                                                \"phoneNumber\": \"{{GuestPhoneNumber}}\",\r\n                                                \"primaryInd\": true,\r\n                                                \"orderSequence\": \"1\"\r\n                                            }\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                \"profileType\": \"Guest\"\r\n                            }\r\n                        },\r\n                        \"primary\": true\r\n                    }\r\n                ],\r\n                \"reservationPaymentMethods\": [\r\n                    {\r\n                        \"paymentCard\": {\r\n                            \"cardType\": \"{{CardType}}\",\r\n                            \"cardNumber\": \"{{PaymentToken}}\",\r\n                            \"cardNumberMasked\": \"XXXXXXXXXXXX{{Last4Digits}}\",\r\n                            \"expirationDate\": \"20{{ExpiryYY-MM}}-00\",\r\n                            \"cardHolderName\": \"{{NameOnCard}}\",\r\n                            \"cardOrToken\": \"Token\"\r\n                        },\r\n                        \"paymentMethod\": \"{{CardType}}\",\r\n                        \"description\": \"Card token\",\r\n                        \"folioView\": \"1\"\r\n                    }\r\n                ],\r\n                \"hotelId\": \"{{HotelId}}\",\r\n                \"roomStayReservation\": true,\r\n                \"reservationStatus\": \"Reserved\",\r\n                \"computedReservationStatus\": \"DueIn\",\r\n                \"walkIn\": false,\r\n                \"printRate\": false,\r\n                \"preRegistered\": false,\r\n                \"upgradeEligible\": false,\r\n                \"allowAutoCheckin\": false,\r\n                \"hasOpenFolio\": false,\r\n                \"allowMobileCheckout\": false,\r\n                \"allowMobileViewFolio\": false,\r\n                \"allowPreRegistration\": false,\r\n                \"optedForCommunication\": false\r\n            }\r\n        ]\r\n    }\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"rsv",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Property Reservation With Token And Profile Id",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"var data = pm.response.headers.get(\"Location\").split(\"/\").pop();\r",
															"postman.setEnvironmentVariable(\"ReservationId\", data);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"reservations\": {\r\n        \"reservation\": [\r\n            {\r\n                \"sourceOfSale\": {\r\n                    \"sourceType\": \"PMS\",\r\n                    \"sourceCode\": \"{{HotelId}}\"\r\n                },\r\n                \"roomStay\": {\r\n                    \"roomRates\": [\r\n                        {\r\n                            \"total\": {\r\n                                \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                            },\r\n                            \"rates\": {\r\n                                \"rate\": [\r\n                                    {\r\n                                        \"base\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\",\r\n                                            \"currencyCode\": \"{{CurrencyCode}}\"\r\n                                        },\r\n                                        \"shareDistributionInstruction\": \"Full\",\r\n                                        \"total\": {\r\n                                            \"amountBeforeTax\": \"{{AmountBeforeTax}}\"\r\n                                        },\r\n                                        \"start\": \"{{DateFrom}}\",\r\n                                        \"end\": \"{{DateTo}}\"\r\n                                    }\r\n                                ]\r\n                            },\r\n                            \"guestCounts\": {\r\n                                \"adults\": \"{{Adults}}\",\r\n                                \"children\": \"{{Children}}\",\r\n                                \"childAges\": {{ChildrenAges}}\r\n                            },\r\n                            \"roomType\": \"{{RoomTypeCode}}\",\r\n                            \"ratePlanCode\": \"{{RatePlanCode}}\",\r\n                            \"start\": \"{{DateFrom}}\",\r\n                            \"end\": \"{{DateTo}}\",\r\n                            \"suppressRate\": true,\r\n                            \"marketCode\": \"LEISURE\",\r\n                            \"marketCodeDescription\": \"Leisure\",\r\n                            \"sourceCode\": \"WEB\",\r\n                            \"sourceCodeDescription\": \"Website\",\r\n                            \"numberOfUnits\": \"{{NumberOfUnits}}\",\r\n                            \"pseudoRoom\": false,\r\n                            \"roomTypeCharged\": \"{{RoomTypeCode}}\",\r\n                            \"houseUseOnly\": false,\r\n                            \"complimentary\": false,\r\n                            \"fixedRate\": true,\r\n                            \"discountAllowed\": false,\r\n                            \"bogoDiscount\": false\r\n                        }\r\n                    ],\r\n                    \"arrivalDate\": \"{{DateFrom}}\",\r\n                    \"departureDate\": \"{{DateTo}}\",\r\n                    \"guarantee\": {\r\n                        \"guaranteeCode\": \"6PM\",\r\n                        \"shortDescription\": \"6PM Hold\"\r\n                    },\r\n                    \"roomNumberLocked\": false,\r\n                    \"printRate\": false\r\n                },\r\n                \"reservationGuests\": {\r\n                    \"profileInfo\": {\r\n                        \"profileIdList\": {\r\n                            \"id\": {{ProfileId}},\r\n                            \"type\": \"Profile\"\r\n                        }\r\n                    }\r\n                },\r\n                \"reservationPaymentMethods\": [\r\n                    {\r\n                        \"paymentCard\": {\r\n                            \"cardType\": \"{{CardType}}\",\r\n                            \"cardNumber\": \"{{PaymentToken}}\",\r\n                            \"cardNumberMasked\": \"XXXXXXXXXXXX{{Last4Digits}}\",\r\n                            \"expirationDate\": \"20{{ExpiryYY-MM}}-00\",\r\n                            \"cardHolderName\": \"{{NameOnCard}}\",\r\n                            \"cardOrToken\": \"Token\"\r\n                        },\r\n                        \"paymentMethod\": \"{{CardType}}\",\r\n                        \"description\": \"Card token\",\r\n                        \"folioView\": \"1\"\r\n                    }\r\n                ],\r\n                \"hotelId\": \"{{HotelId}}\",\r\n                \"roomStayReservation\": true,\r\n                \"reservationStatus\": \"Reserved\",\r\n                \"computedReservationStatus\": \"DueIn\",\r\n                \"walkIn\": false,\r\n                \"printRate\": false,\r\n                \"preRegistered\": false,\r\n                \"upgradeEligible\": false,\r\n                \"allowAutoCheckin\": false,\r\n                \"hasOpenFolio\": false,\r\n                \"allowMobileCheckout\": false,\r\n                \"allowMobileViewFolio\": false,\r\n                \"allowPreRegistration\": false,\r\n                \"optedForCommunication\": false\r\n            }\r\n        ]\r\n    }\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"rsv",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations"
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Reservation",
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{Token}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"name": "Content-Type",
														"type": "text"
													},
													{
														"key": "x-hotelid",
														"value": "{{HotelId}}",
														"type": "text"
													},
													{
														"key": "x-app-key",
														"value": "{{AppKey}}",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations/{{ReservationId}}?fetchInstructions=Reservation&fetchInstructions=RevenuesAndBalances&fetchInstructions=Packages&fetchInstructions=Preferences&fetchInstructions=LinkedReservations&fetchInstructions=Shares",
													"protocol": "https",
													"host": [
														"{{HostName}}"
													],
													"path": [
														"rsv",
														"v1",
														"hotels",
														"{{HotelId}}",
														"reservations",
														"{{ReservationId}}"
													],
													"query": [
														{
															"key": "fetchInstructions",
															"value": "Reservation"
														},
														{
															"key": "fetchInstructions",
															"value": "Comments",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "GuestMemberships",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "GuestLastStay",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ProfileAwards",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ScheduledActivities",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ServiceRequests",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ReservationAwards",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "RevenuesAndBalances"
														},
														{
															"key": "fetchInstructions",
															"value": "Tickets",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "GuestComments",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Packages"
														},
														{
															"key": "fetchInstructions",
															"value": "InventoryItems",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ReservationPaymentMethods",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "RoutingInstructions",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Preferences"
														},
														{
															"key": "fetchInstructions",
															"value": "Memberships",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Alerts",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Traces",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ConfirmationLetters",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "CallHistory",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "FixedCharges",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "GuestMessages",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ReservationPolicies",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Indicators",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "LinkedReservations"
														},
														{
															"key": "fetchInstructions",
															"value": "ECoupons",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "TrackItItems",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "WebRegistrationCards",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ServiceRequests",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ReservationActivities",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "PrepaidCards",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Shares"
														},
														{
															"key": "fetchInstructions",
															"value": "Attachments",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "Locators",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "TransactionDiversions",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "ECertificates",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "UpsellInfo",
															"disabled": true
														},
														{
															"key": "fetchInstructions",
															"value": "RoomAssignedByAI",
															"disabled": true
														}
													]
												},
												"description": "To fetch reservation from OPERA using ID"
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "Pay By Link",
							"item": [
								{
									"name": "Create Payment Link",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "x-API-key",
												"value": "{{Adyen-AppKey}}"
											},
											{
												"key": "content-type",
												"value": "application/json"
											},
											{
												"key": "Idempotency-Key",
												"value": "{{IdempotencyKey}}",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reference\": \"{{PaymentReference}}\",\n    \"amount\": {\n        \"value\": {{PaymentAmount}},\n        \"currency\": \"{{CurrencyCode}}\"\n    },\n    \"description\": \"{{PurchaseDescription}}\",\n    \"countryCode\": \"{{CountryCode}}\",\n    \"merchantAccount\": \"{{Adyen-MerchantAccount}}\",\n    \"shopperLocale\": \"{{Locale}}\",\n    \"shopperReference\": \"{{Adyen-ShopperReference}}\",\n    \"storePaymentMethodMode\": \"enabled\",\n    \"recurringProcessingModel\": \"CardOnFile\",\n    \"requiredShopperFields\": [\"shopperName\", \"shopperEmail\", \"telephoneNumber\", \"billingAddress\"]\n}"
										},
										"url": {
											"raw": "{{Adyen-HostName}}/v70/paymentLinks",
											"host": [
												"{{Adyen-HostName}}"
											],
											"path": [
												"v70",
												"paymentLinks"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Pay By Link Details",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-API-key",
												"value": "{{Adyen-AppKey}}"
											},
											{
												"key": "content-type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{Adyen-HostName}}/v70/paymentLinks/{{PaymentId}}",
											"host": [
												"{{Adyen-HostName}}"
											],
											"path": [
												"v70",
												"paymentLinks",
												"{{PaymentId}}"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Payment Token",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "content-type",
												"value": "application/json"
											},
											{
												"key": "x-API-key",
												"value": "{{Adyen-AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{Adyen-HostName}}/v70/storedPaymentMethods?merchantAccount={{Adyen-MerchantAccount}}&shopperReference={{Adyen-ShopperReference}}",
											"host": [
												"{{Adyen-HostName}}"
											],
											"path": [
												"v70",
												"storedPaymentMethods"
											],
											"query": [
												{
													"key": "merchantAccount",
													"value": "{{Adyen-MerchantAccount}}"
												},
												{
													"key": "shopperReference",
													"value": "{{Adyen-ShopperReference}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Payment Event Hook",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{polyApiKey}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Accept",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"name\": \"paymentEventHook\",\n    \"context\": \"ohip.payments.adyen\",\n    \"subpath\": \"paymentEvent\",\n    \"method\": \"POST\",\n    \"description\": \"Handle a payment event generated by Adyen platform after a guest has made a payment\",\n    \"eventPayload\": {\n        \"live\": \"false\",\n        \"notificationItems\": [\n            {\n                \"NotificationRequestItem\": {\n                    \"additionalData\": {\n                        \"fraudCheck-25-CVCAuthResultCheck\": \"0\",\n                        \"fraudCheck-72-TransactionTimeCheck\": \"0\",\n                        \"shopperCountry\": \"GB\",\n                        \"refusalReasonRaw\": \"AUTHORISED\",\n                        \"eci\": \"N/A\",\n                        \"fraudCheck-29-LiabilityShiftCheck\": \"1\",\n                        \"acquirerAccountCode\": \"TestPmmAcquirerAccount\",\n                        \"fraudCheck-63-TransactionAmountCheck\": \"0\",\n                        \"fraudCheck-8-ShopperEmailUsage\": \"0\",\n                        \"fraudCheck-64-TransactionAmountVelocity\": \"0\",\n                        \"xid\": \"N/A\",\n                        \"recurring.recurringDetailReference\": \"VM4HGSFFV6KXWD82\",\n                        \"recurringProcessingModel\": \"CardOnFile\",\n                        \"threeDAuthenticated\": \"false\",\n                        \"paymentMethodVariant\": \"visacorporatecredit\",\n                        \"fraudCheck-2-CardChunkUsage\": \"0\",\n                        \"issuerBin\": \"44443333\",\n                        \"billingAddress.country\": \"GB\",\n                        \"fraudCheck-54-DistinctSharedPaymentDetailUsageByShopper\": \"0\",\n                        \"fraudCheck-77-EmailSyntaxCheck\": \"0\",\n                        \"fraudManualReview\": \"false\",\n                        \"threeDOffered\": \"false\",\n                        \"fraudCheck-3-PaymentDetailUsage\": \"0\",\n                        \"threeDOfferedResponse\": \"N/A\",\n                        \"shopperEmail\": \"harry.potter@oracle.com\",\n                        \"authorisationMid\": \"50\",\n                        \"checkout.cardAddedBrand\": \"visacorporatecredit\",\n                        \"fraudCheck-7-ShopperIpUsage\": \"0\",\n                        \"cavv\": \"N/A\",\n                        \"fraudCheck-46-DistinctCountryUsageByShopper\": \"0\",\n                        \"shopperTelephone\": \"+447575333444\",\n                        \"authorisedAmountCurrency\": \"USD\",\n                        \"threeDAuthenticatedResponse\": \"N/A\",\n                        \"opi.transToken\": \"0009B3648tm4fsVM4HGSFFV6KXWD82\",\n                        \"threeds2.cardEnrolled\": \"false\",\n                        \"fraudCheck-53-DistinctSharedShopperIpUsageByShopper\": \"0\",\n                        \"avsResultRaw\": \"2\",\n                        \"retry.attempt1.rawResponse\": \"AUTHORISED\",\n                        \"paymentMethod\": \"visa\",\n                        \"recurring.shopperReference\": \"B676384968170222\",\n                        \"shopperLocale\": \"en-UK\",\n                        \"shopperReference\": \"B676384968170222\",\n                        \"avsResult\": \"2 Neither postal code nor address match\",\n                        \"fraudCheck-74-EmailNameCheck\": \"0\",\n                        \"fraudCheck-9-ShopperIpIssuingCountry\": \"0\",\n                        \"cardSummary\": \"1111\",\n                        \"retry.attempt1.avsResultRaw\": \"2\",\n                        \"networkTxReference\": \"940357112180561\",\n                        \"shopperIP\": \"86.179.215.162\",\n                        \"totalFraudScore\": \"1\",\n                        \"hmacSignature\": \"2ngxJCMlRyTnRCwv9ElydeH3HV7Y87d5y0hX8OpkdfU=\",\n                        \"expiryDate\": \"03/2030\",\n                        \"fraudCheck-15-IssuingCountryReferral\": \"0\",\n                        \"billingAddress.street\": \"Privet Drive\",\n                        \"shopperName\": \"[first name=Harry, infix=null, last name=Potter, gender=null]\",\n                        \"cavvAlgorithm\": \"N/A\",\n                        \"fraudCheck-37-ShopperDetailsUsage\": \"0\",\n                        \"cardBin\": \"444433\",\n                        \"billingAddress.city\": \"Surrey\",\n                        \"cvcResultRaw\": \"M\",\n                        \"fraudCheck-4-HolderNameUsage\": \"0\",\n                        \"fraudCheck-51-DistinctShopperReferenceUsageByShopper\": \"0\",\n                        \"merchantReference\": \"REF12345910\",\n                        \"acquirerReference\": \"DK2WKFXF62B\",\n                        \"fraudCheck-10-HolderNameContainsNumber\": \"0\",\n                        \"cardIssuingCountry\": \"GB\",\n                        \"liabilityShift\": \"false\",\n                        \"fraudResultType\": \"GREEN\",\n                        \"authCode\": \"049697\",\n                        \"paymentLinkId\": \"PL3B3DE5F66B44B6EB\",\n                        \"cardHolderName\": \"H Potter\",\n                        \"isCardCommercial\": \"unknown\",\n                        \"PaymentAccountReference\": \"qP5m5XVdzWl3F2EdJ5Iqkw3M8ni6Y\",\n                        \"retry.attempt1.acquirerAccount\": \"TestPmmAcquirerAccount\",\n                        \"retry.attempt1.acquirer\": \"TestPmmAcquirer\",\n                        \"fraudCheck-78-ShopperBehaviorCheck\": \"0\",\n                        \"billingAddress.houseNumberOrName\": \"4\",\n                        \"billingAddress.stateOrProvince\": \"N/A\",\n                        \"authorisedAmountValue\": \"10\",\n                        \"billingAddress.postalCode\": \"GU01 4HP\",\n                        \"fraudCheck-11-HolderNameIsOneWord\": \"0\",\n                        \"issuerCountry\": \"GB\",\n                        \"cvcResult\": \"1 Matches\",\n                        \"retry.attempt1.responseCode\": \"Approved\",\n                        \"fraudCheck-71-LoyalShopperTrustCheck\": \"0\",\n                        \"fraudCheck-1-PaymentDetailRefCheck\": \"0\",\n                        \"retry.attempt1.shopperInteraction\": \"Ecommerce\",\n                        \"cardPaymentMethod\": \"visacorporatecredit\",\n                        \"acquirerCode\": \"TestPmmAcquirer\"\n                    },\n                    \"amount\": {\n                        \"currency\": \"USD\",\n                        \"value\": 10\n                    },\n                    \"eventCode\": \"AUTHORISATION\",\n                    \"eventDate\": \"2023-09-09T09:52:12+02:00\",\n                    \"merchantAccountCode\": \"Oracle097ECOM\",\n                    \"merchantReference\": \"REF12345910\",\n                    \"operations\": [\n                        \"CANCEL\",\n                        \"CAPTURE\",\n                        \"REFUND\"\n                    ],\n                    \"paymentMethod\": \"visa\",\n                    \"pspReference\": \"Z9B4DPGGHVTFWR82\",\n                    \"reason\": \"049697:1111:03/2030\",\n                    \"success\": \"true\"\n                }\n            }\n        ]\n    },\n    \"responseStatusCode\": \"201\",\n    \"securityFunctions\": []\n}",
											"options": {
												"raw": {
													"headerFamily": "json",
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{Poly-Host}}/webhooks/",
											"host": [
												"{{Poly-Host}}"
											],
											"path": [
												"webhooks",
												""
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Check In",
							"item": [
								{
									"name": "Get Reservation Details by Confirmation Number",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations?fetchInstructions=Reservation&confirmationNumberList={{ConfirmationNumber}}",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"rsv",
												"v1",
												"hotels",
												"{{HotelId}}",
												"reservations"
											],
											"query": [
												{
													"key": "fetchInstructions",
													"value": "Reservation"
												},
												{
													"key": "fetchInstructions",
													"value": "MasterInfo",
													"disabled": true
												},
												{
													"key": "fetchInstructions",
													"value": "RevenuesAndBalances",
													"disabled": true
												},
												{
													"key": "fetchInstructions",
													"value": null,
													"disabled": true
												},
												{
													"key": "confirmationNumberList",
													"value": "{{ConfirmationNumber}}"
												}
											]
										},
										"description": "To fetch reservation from OPERA using ID"
									},
									"response": []
								},
								{
									"name": "Get Property Business Date",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/bof/v1/hotels/{{HotelId}}/businessDate",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"bof",
												"v1",
												"hotels",
												"{{HotelId}}",
												"businessDate"
											]
										}
									},
									"response": []
								},
								{
									"name": "Pre-Register Reservation with Arrival Time",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reservation\": {\n        \"reservationId\": {\n            \"type\": \"Reservation\"\n        },\n        \"preCheckInDetails\": {\n            \"arrival\": {\n                \"arrivalTime\": \"{{ArrivalTime}}\"\n            }\n        }\n    }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations/{{ReservationId}}/preCheckIn",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"rsv",
												"v1",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"preCheckIn"
											]
										}
									},
									"response": []
								},
								{
									"name": "Search Available Room",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/fof/v0/hotels/{{HotelId}}/rooms?hotelRoomStartDate={{DateFrom}}&hotelRoomEndDate={{DateTo}}&hotelRoomStatus=Inspected&hotelRoomFrontOfficeStatus=Vacant&roomType={{RoomTypeCode}}",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"fof",
												"v0",
												"hotels",
												"{{HotelId}}",
												"rooms"
											],
											"query": [
												{
													"key": "hotelRoomStartDate",
													"value": "{{DateFrom}}"
												},
												{
													"key": "hotelRoomEndDate",
													"value": "{{DateTo}}"
												},
												{
													"key": "hotelRoomStatus",
													"value": "Inspected"
												},
												{
													"key": "hotelRoomFrontOfficeStatus",
													"value": "Vacant"
												},
												{
													"key": "roomFeatureCode",
													"value": "KETTLE",
													"disabled": true
												},
												{
													"key": "roomType",
													"value": "{{RoomTypeCode}}"
												}
											]
										},
										"description": "To fetch rooms from OPERA "
									},
									"response": []
								},
								{
									"name": "Assign Room to Guest",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"criteria\": {\r\n        \"hotelId\": \"{{HotelId}}\",\r\n        \"reservationIdList\": [\r\n            {\r\n                \"id\": \"{{ReservationId}}\",\r\n                \"type\": \"Reservation\"\r\n            }\r\n        ],\r\n        \"roomId\": \"{{RoomId}}\",\r\n        \"updateRoomTypeCharged\": false,\r\n        \"roomNumberLocked\": true\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/fof/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/roomAssignments",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"fof",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"roomAssignments"
											]
										},
										"description": "Use this API to add/assign a room number to a guests reservation. This is required before they can check into the property."
									},
									"response": []
								},
								{
									"name": "Check In Guest",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"reservation\": {\r\n    \"roomId\": \"{{RoomId}}\",\r\n    \"ignoreWarnings\": true,\r\n    \"stopCheckin\": false,\r\n    \"printRegistration\": false\r\n  },\r\n  \"fetchReservationInstruction\": [\r\n    \"ReservationDetail\"\r\n  ],\r\n  \"includeNotifications\": true\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/fof/v1/hotels/{{HotelId}}/reservations/{{ReservationId}}/checkIns",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"fof",
												"v1",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"checkIns"
											]
										},
										"description": "To check in a guest at the property."
									},
									"response": []
								}
							]
						},
						{
							"name": "During Stay",
							"item": [
								{
									"name": "Get Packages",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "https://{{HostName}}/rtp/v1/packages?includeGroup=true&sellSeparate=true&endDate={{DateTo}}&children={{Adults}}&adults={{Children}}&fetchInstructions=Header&fetchInstructions=CalculatedPrice&fetchInstructions=Items&hotelId={{HotelId}}&startDate={{DateFrom}}&ticketPostingRhythm=false&fetchInstructions=PostingRules",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"rtp",
												"v1",
												"packages"
											],
											"query": [
												{
													"key": "includeGroup",
													"value": "true"
												},
												{
													"key": "sellSeparate",
													"value": "true"
												},
												{
													"key": "endDate",
													"value": "{{DateTo}}"
												},
												{
													"key": "children",
													"value": "{{Adults}}"
												},
												{
													"key": "adults",
													"value": "{{Children}}"
												},
												{
													"key": "fetchInstructions",
													"value": "Header"
												},
												{
													"key": "fetchInstructions",
													"value": "CalculatedPrice"
												},
												{
													"key": "fetchInstructions",
													"value": "Items"
												},
												{
													"key": "hotelId",
													"value": "{{HotelId}}"
												},
												{
													"key": "startDate",
													"value": "{{DateFrom}}"
												},
												{
													"key": "ticketPostingRhythm",
													"value": "false"
												},
												{
													"key": "fetchInstructions",
													"value": "PostingRules"
												}
											]
										},
										"description": "Use this operation to search for available packages at a property. You can search by date range, to see what packages are available to add to a reservation for example."
									},
									"response": []
								},
								{
									"name": "Get Transaction Codes",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/transactionCodes?includeArticles=true",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"transactionCodes"
											],
											"query": [
												{
													"key": "includeArticles",
													"value": "true"
												},
												{
													"key": "userRoleTransactions",
													"value": "",
													"disabled": true
												},
												{
													"key": "manualPostAllowed",
													"value": "true",
													"disabled": true
												},
												{
													"key": "code",
													"value": "",
													"disabled": true
												},
												{
													"key": "description",
													"value": "",
													"disabled": true
												},
												{
													"key": "wildCard",
													"value": "",
													"disabled": true
												},
												{
													"key": "folioDate",
													"value": "",
													"disabled": true
												},
												{
													"key": "folioNo",
													"value": "",
													"disabled": true
												},
												{
													"key": "folioStatus",
													"value": "",
													"disabled": true
												},
												{
													"key": "folioTypeName",
													"value": "",
													"disabled": true
												},
												{
													"key": "invoiceNo",
													"value": "",
													"disabled": true
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add Charges",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"criteria\": {\r\n        \"charges\": {\r\n            \"postingQuantity\": 1,\r\n            \"usePackageAllowance\": false,\r\n            \"price\": {\r\n                \"amount\": {{PackageAmount}},\r\n                \"currencyCode\": \"USD\"\r\n            },\r\n            \"transactionCode\": {{TransactionCode}},\r\n            \"applyRoutingInstructions\": false\r\n        },\r\n        \"reservationId\": {\r\n            \"idContext\": \"OPERA\",\r\n            \"id\": {{ReservationId}},\r\n            \"type\": \"Reservation\"\r\n        },\r\n        \"cashierId\": 1,\r\n        \"hotelId\": \"{{HotelId}}\",\r\n        \"postIt\": false\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/charges",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"charges"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get the Guest Folio",
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/folios?folioWindowNo=1&limit=50&fetchInstructions=Postings&fetchInstructions=Totalbalance&fetchInstructions=Transactioncodes&fetchInstructions=Windowbalances",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"folios"
											],
											"query": [
												{
													"key": "folioWindowNo",
													"value": "1"
												},
												{
													"key": "limit",
													"value": "50"
												},
												{
													"key": "fetchInstructions",
													"value": "Account",
													"disabled": true
												},
												{
													"key": "fetchInstructions",
													"value": "Postings"
												},
												{
													"key": "fetchInstructions",
													"value": "Totalbalance"
												},
												{
													"key": "fetchInstructions",
													"value": "Transactioncodes"
												},
												{
													"key": "fetchInstructions",
													"value": "Windowbalances"
												},
												{
													"key": "fetchInstructions",
													"value": "Payment",
													"disabled": true
												},
												{
													"key": "fetchInstructions",
													"value": "Reservation",
													"disabled": true
												},
												{
													"key": "fetchInstructions",
													"value": "Payee",
													"disabled": true
												},
												{
													"key": "guestPayOnly",
													"value": "Y",
													"disabled": true
												},
												{
													"key": "reservationBalanceOnly",
													"value": "false",
													"disabled": true
												},
												{
													"key": "includeFolioHistory",
													"value": "false",
													"disabled": true
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Check Out",
							"item": [
								{
									"name": "Pay The Folio",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"criteria\": {\r\n        \"overrideInsufficientCC\": false,\r\n        \"applyCCSurcharge\": false,\r\n        \"vATOffset\": false,\r\n        \"reservationId\": {\r\n            \"idContext\": \"OPERA\",\r\n            \"id\": {{ReservationId}},\r\n            \"type\": \"Reservation\"\r\n        },\r\n        \"paymentMethod\": {\r\n            \"paymentMethod\": \"CA\"\r\n        },\r\n        \"postingReference\": \"CA Posting - Window 1\",\r\n        \"postingAmount\": {\r\n            \"amount\": {{PaymentAmount}},\r\n            \"currencyCode\": \"USD\"\r\n        },\r\n        \"cashierId\": 1,\r\n        \"hotelId\": \"{{HotelId}}\",\r\n        \"folioWindowNo\": \"1\",\r\n        \"overrideARCreditLimit\": false\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/payments",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"payments"
											]
										}
									},
									"response": []
								},
								{
									"name": "Prepare Folio for Check Out",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"criteria\": {\r\n        \"reservationId\": {\r\n            \"idContext\": \"OPERA\",\r\n            \"id\": {{ReservationId}},\r\n            \"type\": \"Reservation\"\r\n        },\r\n        \"profileId\": {\r\n            \"idContext\": \"OPERA\",\r\n            \"id\": {{ProfileId}},\r\n            \"type\": \"Profile\"\r\n        },\r\n        \"fiscalFolioInstruction\": \"New\",\r\n        \"allFolioWindow\": false,\r\n        \"folioQueue\": {\r\n            \"generateFiscalFolio\": false\r\n        },\r\n        \"cashierId\": 1,\r\n        \"hotelId\": \"{{HotelId}}\",\r\n        \"eventType\": \"CheckOut\",\r\n        \"folioWindowNo\": 1,\r\n        \"correction\": false,\r\n        \"debitFolio\": false\r\n    }\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/folios",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"folios"
											],
											"query": [
												{
													"key": null,
													"value": "",
													"disabled": true
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check Out Guest",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"reservation\": {\r\n        \"reservationIdList\": {\r\n            \"id\": {{ReservationId}},\r\n            \"type\": \"Reservation\"\r\n        },\r\n        \"stopCheckout\": false,\r\n        \"cashierId\": 1,\r\n        \"hotelId\": \"{{HotelId}}\",\r\n        \"eventType\": \"CheckOut\",\r\n        \"autoCheckout\": false,\r\n        \"checkoutInstr\": {\r\n            \"roomStatus\": \"Dirty\",\r\n            \"ignoreWarnings\": true\r\n        }\r\n    },\r\n    \"verificationOnly\": false\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/checkOuts",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"checkOuts"
											]
										}
									},
									"response": []
								},
								{
									"name": "Reverse Check Out",
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{Token}}",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"name": "Content-Type",
												"type": "text"
											},
											{
												"key": "x-hotelid",
												"value": "{{HotelId}}",
												"type": "text"
											},
											{
												"key": "x-app-key",
												"value": "{{AppKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"reservationId\": {\r\n        \"idContext\": \"OPERA\",\r\n        \"id\": {{ReservationId}},\r\n        \"type\": \"Reservation\"\r\n    },\r\n    \"notifyInterfaces\": true,\r\n    \"overrideFlag\": false,\r\n    \"cashierId\": 1\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://{{HostName}}/csh/v0/hotels/{{HotelId}}/reservations/{{ReservationId}}/checkOuts/reinstate",
											"protocol": "https",
											"host": [
												"{{HostName}}"
											],
											"path": [
												"csh",
												"v0",
												"hotels",
												"{{HotelId}}",
												"reservations",
												"{{ReservationId}}",
												"checkOuts",
												"reinstate"
											]
										}
									},
									"response": []
								}
							],
							"description": "This workflow provides a suggested set of operations to use in order to check out the guest, as well as including posting charges, making payments viewing folio details.\n\n## Check out a Guest\n\n1. Retrieve Reservation\n2. get Folio details\n3. post billing charge\n4. post billing payment\n5. Check Out Guest\n\n| **Business case** | **Rest api** | **Module** |\n| --- | --- | --- |\n| **Retrieve a reservation –** if you know the reservation Id use getReservation. If you need to search for a reservation with names, room number, arrival date, etc use `getReservations`. | getReservations getReservation | Reservations (RSV) |\n| **Get the folio details**. This will return you information on the guests account (folio) and will advise the charges, payments and outstanding balances. | getFolios | Cashiering (CSH) |\n| **Post a charge** to a guest's reservation/folio. For example a guest had chips from the mini bar, you can add this charge to their folio.  In order to know the charges that can be posted, use `getTransactionCodes` operation. | postBillingCharges getTransactionCodes | Cashiering (CSH) |\n| **Post a payment** to the folio. From the folio details you will be able to see the balance for the guest's stay. You can post a payment to the folio using this operation to bring the balance to $0. | postBillingPayments | Cashiering (CSH) |\n| **Generate Folio Number.** This operation is required once you have brought the folio balance to $0 and is used to generate the folio number and/or bill number. Use postFolios to perform this action. | postFolios | Cashiering (CSH) |\n| **Check out a reservation**. Typically you will only be able to check out a guest if their folio balance is $0. | postCheckOuts | Cashiering (CSH) |",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						}
					]
				},
				{
					"name": "HTNG Express",
					"item": [
						{
							"name": "Get Profile By Id",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{Token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "x-app-key",
										"value": "{{AppKey}}",
										"type": "text"
									},
									{
										"key": "x-hotelid",
										"value": "{{HotelId}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "https://{{HostName}}/crm/v1/profiles/{{ProfileId}}?fetchInstructions=Communication&fetchInstructions=Address&fetchInstructions=Membership&fetchInstructions=Preference&fetchInstructions=Profile&fetchInstructions=Correspondence",
									"protocol": "https",
									"host": [
										"{{HostName}}"
									],
									"path": [
										"crm",
										"v1",
										"profiles",
										"{{ProfileId}}"
									],
									"query": [
										{
											"key": "fetchInstructions",
											"value": "Communication"
										},
										{
											"key": "fetchInstructions",
											"value": "Address"
										},
										{
											"key": "fetchInstructions",
											"value": "Comment",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "DeliveryMethods",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "FutureReservation",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "GdsNegotiatedRate",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "HistoryReservation",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Indicators",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Keyword",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Membership"
										},
										{
											"key": "fetchInstructions",
											"value": "NegotiatedRate",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Preference"
										},
										{
											"key": "fetchInstructions",
											"value": "Profile"
										},
										{
											"key": "fetchInstructions",
											"value": "Relationship",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "SalesInfo",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Subscriptions",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "WebUserAccount",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Correspondence"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Search Reservations By Arrival Departure Dates And Guest Names",
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{Token}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"name": "Content-Type",
										"type": "text"
									},
									{
										"key": "x-app-key",
										"value": "{{AppKey}}",
										"type": "text"
									},
									{
										"key": "x-hotelid",
										"value": "{{HotelId}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{HostName}}/rsv/v1/hotels/{{HotelId}}/reservations?limit=200&fetchInstructions=Reservation&arrivalStartDate={{ArrivalDateFrom}}&arrivalEndDate={{ArrivalDateTo}}&departureStartDate={{DepartureDateFrom}}&departureEndDate={{DepartureDateTo}}&orderBy={{OrderBy}}&sortOrder={{SortOrder}}&surname={{GuestLastName}}&names={{GuestFirstName}}",
									"protocol": "https",
									"host": [
										"{{HostName}}"
									],
									"path": [
										"rsv",
										"v1",
										"hotels",
										"{{HotelId}}",
										"reservations"
									],
									"query": [
										{
											"key": "limit",
											"value": "200"
										},
										{
											"key": "offset",
											"value": "",
											"disabled": true
										},
										{
											"key": "fetchInstructions",
											"value": "Reservation"
										},
										{
											"key": "arrivalStartDate",
											"value": "{{ArrivalDateFrom}}"
										},
										{
											"key": "arrivalEndDate",
											"value": "{{ArrivalDateTo}}"
										},
										{
											"key": "departureStartDate",
											"value": "{{DepartureDateFrom}}"
										},
										{
											"key": "departureEndDate",
											"value": "{{DepartureDateTo}}"
										},
										{
											"key": "createdOnStartDate",
											"value": "{{CreatedOn}}",
											"disabled": true
										},
										{
											"key": "orderBy",
											"value": "{{OrderBy}}",
											"description": "Room|GuestSurname|ArrivalDate|DepartureDate"
										},
										{
											"key": "sortOrder",
											"value": "{{SortOrder}}",
											"description": "ASC|DESC"
										},
										{
											"key": "surname",
											"value": "{{GuestLastName}}"
										},
										{
											"key": "names",
											"value": "{{GuestFirstName}}"
										},
										{
											"key": "roomRangeFrom",
											"value": "{{RoomNumberFrom}}",
											"disabled": true
										},
										{
											"key": "roomRangeTo",
											"value": "{{RoomNumberTo}}",
											"disabled": true
										},
										{
											"key": "roomId",
											"value": "{{RoomId}}",
											"disabled": true
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Train",
			"item": [
				{
					"name": "Sample Train Call",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "header1",
								"value": "{{hello}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"input\": {{world}}\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://httpbin.org/anything/{{hello}}/{{world}}",
							"protocol": "https",
							"host": [
								"httpbin",
								"org"
							],
							"path": [
								"anything",
								"{{hello}}",
								"{{world}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"const { headers, body, auth, url } = pm.request;",
							"",
							"pm.environment.set('templateHeaders', headers);",
							"pm.environment.set('templateBody', body);",
							"pm.environment.set('templateAuth', auth);",
							"pm.environment.set('templateUrl', url);",
							"",
							"/*",
							"    You can use code snippets bellow in specific requests to change Poly behavior when training.",
							"    WARNING: Don't use them in collection pre-request and/or post-request, if you use them in collection level they will affect all requests",
							"    inside collection.",
							"*/",
							"",
							"/**",
							" * To set api context, description and/or name you can do:",
							" * pm.environment.set('polyData', {",
							" *   description: 'lorem ipsum...',",
							" *   name: 'createPost',",
							" *   context: 'jsonplaceholder",
							" * });",
							" */",
							"",
							"/**",
							" * To set response payload path you can do:",
							" * pm.environment.set('polyData', {",
							" *   payload: '$.results[0].geometry.location'",
							" * });",
							" */",
							"",
							"/**",
							" * To explicitly create a new api function and skip retraining rules, pass { id: 'new' } to polyData environment variable:",
							" * pm.environment.set('polyData', {",
							" *   id: 'new'",
							" * });",
							" */",
							"",
							"/**",
							" * To explicitly override a saved api function, pass { id: string } with api function id to polyData environment variable:",
							" * pm.environment.set('polyData', {",
							" *   id: '2915f8c3-1740-4d3b-8165-510d4089c580'",
							" * });",
							" */",
							"",
							"",
							"/**",
							" * For graphql functions, variable types are inferred from graphql introspection call by default. If you want to infer them from",
							" * Postman's graphql variables, you can pass:",
							" * pm.environment.set('polyData', {",
							" *  inferArgTypesFromPostmanGraphqlVariables: true",
							" * });",
							" * This can be useful for custom scalar types since by default are typed as string | number | boolean | object | array. This is because",
							" * graphql doesn't give information about custom scalar types when introspecting, so, a custom scalar type can be `any` value.",
							" */"
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"const postmanCollection = require('postman-collection');",
							"",
							"const scriptVersion = '0.3.0';",
							"const polyData = pm.environment.get('polyData');",
							"const apiKey = pm.environment.get('polyApiKey');",
							"const { method, description, url, body } = pm.request;",
							"",
							"const templateBody = new postmanCollection.RequestBody(pm.environment.get('templateBody'));",
							"const templateHeaders = new postmanCollection.HeaderList(null, pm.environment.get('templateHeaders'));",
							"const templateAuth = new postmanCollection.RequestAuth(pm.environment.get('templateAuth'));",
							"const templateUrl = new postmanCollection.Url(pm.environment.get('templateUrl'));",
							"",
							"pm.environment.unset('polyData');",
							"pm.environment.unset('polyFunctionId');",
							"",
							"pm.environment.unset('templateBody');",
							"pm.environment.unset('templateHeaders');",
							"pm.environment.unset('templateAuth');",
							"pm.environment.unset('templateUrl');",
							"",
							"let response;",
							"",
							"const responseContentType = pm.response.headers.get('content-type') || '';",
							"const responseStatusCode = pm.response.code;",
							"",
							"if(responseStatusCode === 204) {",
							"  response = null;",
							"} else if (responseContentType.match(/application\\/.*json/) !== null) {",
							"  response = pm.response.json();",
							"} else {",
							"  response = pm.response.text();",
							"}",
							"",
							"const collectionVariables = pm.collectionVariables.toObject();",
							"const environmentVariables = pm.environment.toObject();",
							"",
							"const rawObject = {",
							"  description: description?.context,",
							"  requestName: pm.info.requestName,",
							"  ...polyData,",
							"  url: url.toString(),",
							"  body,",
							"  templateHeaders,",
							"  method,",
							"  templateAuth,",
							"  response,",
							"  variables: {",
							"    ...environmentVariables,",
							"    ...collectionVariables,",
							"  },",
							"  statusCode: pm.response.code,",
							"  templateUrl: `${templateUrl.protocol ? `${templateUrl.protocol}://` : ''}${templateUrl.getRemote()}${templateUrl.getPathWithQuery()}`,",
							"  templateBody,",
							"};",
							"",
							"const postRequest = {",
							"  url: 'https://na1.polyapi.io/functions/api/training/postman',",
							"  method: 'POST',",
							"  header: {",
							"    'Content-Type': 'application/json',",
							"    'Authorization': `Bearer ${apiKey}`,",
							"    'x-poly-training-script-version': scriptVersion,",
							"  },",
							"  body: {",
							"    mode: 'raw',",
							"    raw: JSON.stringify(rawObject),",
							"  },",
							"};",
							"",
							"async function getIntrospectionData() {",
							"",
							"  const headers = pm.request.headers.all().filter(value => !['Content-Length'].includes(value.key)).reduce((acum, header) => {",
							"    const argumentPattern = /(?<=\\{\\{)([^}]+)(?=\\})/gi;",
							"    const parsedHeaderValue = header.value;",
							"    const argumentsMatch = parsedHeaderValue.match(argumentPattern);",
							"",
							"    if (argumentsMatch) {",
							"      for (const pmArg of argumentsMatch) {",
							"        const argValue = collectionVariables[pmArg] || environmentVariables[pmArg];",
							"",
							"        if (argValue) {",
							"          parsedHeaderValue.replace(`{{${pmArg}}}`, argValue);",
							"        }",
							"      }",
							"    }",
							"",
							"    return {",
							"      ...acum,",
							"      [header.key]: {",
							"        ...header,",
							"        value: parsedHeaderValue,",
							"      },",
							"    };",
							"",
							"  }, {});",
							"",
							"  const introspectionRequest = {",
							"    url: url.toString(),",
							"    method: 'POST',",
							"    header: headers,",
							"    body: {",
							"      mode: 'raw',",
							"      raw: JSON.stringify({",
							"        query: 'query IntrospectionQuery{__schema{queryType{name}mutationType{name}subscriptionType{name}types{...FullType}directives{name description locations args{...InputValue}}}}fragment FullType on __Type{kind name description fields(includeDeprecated:true){name description args{...InputValue}type{...TypeRef}isDeprecated deprecationReason}inputFields{...InputValue}interfaces{...TypeRef}enumValues(includeDeprecated:true){name description isDeprecated deprecationReason}possibleTypes{...TypeRef}}fragment InputValue on __InputValue{name description type{...TypeRef}defaultValue}fragment TypeRef on __Type{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name ofType{kind name}}}}}}}}',",
							"      }),",
							"    },",
							"  };",
							"",
							"  const response = await (new Promise((resolve, reject) => {",
							"    pm.sendRequest(introspectionRequest, (error, response) => {",
							"",
							"      if (error) {",
							"        return reject(new Error('Graphql introspection call failed.'));",
							"      }",
							"",
							"      resolve(response);",
							"",
							"    });",
							"  }));",
							"",
							"  return response.json();",
							"}",
							"",
							"function teachPoly(introspectionResponse) {",
							"  return new Promise((resolve, reject) => {",
							"    pm.sendRequest({",
							"      ...postRequest,",
							"      body: {",
							"        ...postRequest.body,",
							"        raw: introspectionResponse",
							"          ? JSON.stringify({ ...rawObject, introspectionResponse })",
							"          : JSON.stringify(rawObject),",
							"      },",
							"    }, (error, response) => {",
							"      if (error) {",
							"        return reject(error);",
							"      }",
							"      resolve(response);",
							"    });",
							"  });",
							"}",
							"",
							"(async () => {",
							"",
							"  try {",
							"    console.info('Training poly function...');",
							"",
							"    let response = null;",
							"",
							"    if (body.mode === 'graphql' && !polyData?.inferArgTypesFromPostmanGraphqlVariables) {",
							"",
							"      console.info('Introspecting api...');",
							"",
							"      const introspectionResponse = await getIntrospectionData();",
							"",
							"      if (!introspectionResponse?.data?.__schema) {",
							"        console.warn('Cannot introspect api, inferring argument types from postman graphql variables box...');",
							"      }",
							"",
							"      response = await teachPoly(introspectionResponse.data);",
							"",
							"    } else {",
							"      if(body.mode === 'graphql') {",
							"        console.info('`inferArgTypesFromPostmanGraphqlVariables` flag activated, inferring argument types from postman graphql variables box...');",
							"      }",
							"      response = await teachPoly();",
							"    }",
							"",
							"    if (response.code >= 400) {",
							"      return console.error(`Training call failed with status code ${response.code}. Message: ${response.json()?.message}`);",
							"    }",
							"",
							"    const responseBody = await response.json();",
							"",
							"    if(responseBody.traceId) {",
							"        console.warn(`Failed to generate descriptions while training function, trace id: ${responseBody.traceId}`);",
							"    }",
							"",
							"    console.info('Function trained.');",
							"  } catch (err) {",
							"    console.error('Training of poly function failed.', err);",
							"  }",
							"})();",
							"",
							""
						]
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "hello",
			"value": "Hello"
		},
		{
			"key": "world",
			"value": "world"
		}
	]
}